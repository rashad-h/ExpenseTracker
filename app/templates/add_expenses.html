{% extends "dash_base.html" %}{% block content %}
<br>
<h3>Add Expenses</h3>
<br>
<form action="/addExpenses" method="POST">
    <dir class="form-row">
        {{ form.hidden_tag() }}
        <div class="form-group col-md-2">
            <label for="amountID">Amount</label>
            {{ form.amount() }}
        </div>
        <div class="form-group col-md-3">
            <label for="dateID">Date</label>
            {{ form.date() }}
        </div>
        <div class="form-group col-md-3">
            <label for="typeID">Type</label>
            {{ form.expenseType() }}
        </div>
        <div class="form-group col-md-4">
            <label for="descriptionID">Description(optional)</label>
            {{ form.description() }}
        </div>
    </dir>
    <dir class="form-row">
        <button type="submit" class="btn btn-warning">Add Expense</button>
    </dir>
    
</form>



{% with messages = get_flashed_messages() %}
            {% if messages %}
              {% for message in messages %}
              <div class="row justify-content-center">
                <div class="alert alert alert-warning">
                   {{ message }}
                </div>
              </div>
              
              {% endfor %}

            {% endif %}
          {% endwith %}
{% if expenses %}
<div class="table-responsive">
    <table class="table table-md">
        <thead>
            <tr>
                <th>Date</th>
                <th>Amount</th>
                <th>Type</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            {% for expense in expenses %}
            <tr style="background-color: {{ expense.expense_type.color}};">
                <td>{{ expense.date }}</td>
                <td>Â£{{ expense.amount }}</td>
                <td>{{ expense.expense_type.name }}</td>
                <td>{{ expense.description }}</td>
            </tr>
            {% endfor %} 
        </tbody>
    </table>
</div>
{% endif %}
{% endblock %}

